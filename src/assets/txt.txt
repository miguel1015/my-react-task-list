let ultimo = 0;
let Data = [];

    function useMostrar () {
        Data = []
        for ( const  i in localStorage) {
            if (!isNaN(i)) {
                ultimo = Number(i)
                Data.push(JSON.parse(localStorage.getItem(i)))
            }
        }
        console.log(Data)

        return {ultimo , Data}
    }

export default useMostrar




//import useMostrar from "./useMostrar";

function useList (texto, ultimo, dess) {

    const guardar=() => {
        if (texto !== "") {
            for ( const  i in localStorage) {
                if (!isNaN(i)) {
                    if (ultimo < Number(i)) {
                        ultimo = Number(i)
                    }
    
                }
            }
            localStorage.setItem((ultimo + 1 ), JSON.stringify({tarea:texto, descripcion:dess}))
            return alert("Nueva Tarea agregada");
    
            
        }else{
          return  alert("AÃ±ada una descripcion")
        }
    }

    function editar () {

        let nuevaTarea = "";
        let nuevadess = "";
        nuevaTarea = prompt("Edite",texto);
        nuevadess = prompt("Edite Descripcion",dess);
        localStorage.setItem(ultimo, JSON.stringify({tarea:nuevaTarea, descripcion:nuevadess}));
        alert("Tarea Modificada");
        window.location.reload(false); 
        
    }

    const eliminar= ()=> {
        if (window.confirm('Esta seguro De Eliminar esta tarea ?')) {
            
            localStorage.removeItem(ultimo);
            alert("Tarea Eliminada")
            window.location.reload(false);
        }
    } 
    return { guardar, editar, eliminar }
    
}

export default useList



-------------------lista de tareas

import './listaTareas.css';
import Tarea from '../Tarea/Tarea';
import { useState } from 'react';
import { AiFillCaretDown } from "react-icons/ai";
import useList from '../Hooks/useList';
import useMostrar from '../Hooks/useMostrar';


function ListaTareas () {

    const { ultimo , Data } = useMostrar();
    const [mostardess, setMostarDes] = useState(false);

    const [texto, setTexto] = useState("");
    const [dess, setDess] = useState("");

    const{ guardar }= useList(texto, ultimo ,dess);
    
    const handelImputChange = ({target})=>{
        setTexto(target.value)
    }
    
    const passinputChange = ({target})=>{
        setDess(target.value)
    }

    function BuscarId(x) {
        let obj;  
        for (const key in localStorage ) {
            obj = JSON.parse(localStorage.getItem(key));
            if(obj.tarea === x){
                return key

            }
        }
    }
 
    return(
        
        <div className='listaTareas'>
            <center>
            <form onSubmit={guardar}>
              <input className='inputTarea' value={texto} type='text' onChange={handelImputChange} placeholder="Add your new todo"/>
              <button  className='buttonTarea' type='submit'> + </button>
              <br/>
              {mostardess? <input className='inputTarea' value={dess} type='text' onChange={passinputChange} placeholder="Add your descrition"/>: <></>}
              
              <AiFillCaretDown onClick={()=>setMostarDes(!mostardess)}/>
              <br/>
            </form>
            <br/>
            <div id="tareas" className='tareas'>
                { Data.length > 0 ?(
                    Data.map( (x , index )  =>
                    (
                       x ?(
                       <Tarea key={index} item={BuscarId(x.tarea)} tarea={x.tarea} dess={x.descripcion} />
                       ):( <></> ) 
                    )
                  )
                ):(
                    <p>No hay tareas</p>
                )
                }
            </div>
            </center>
        </div>
    )
    
}
export default ListaTareas 